##Executing as player who has just joined (root/main)

## Silence commandFeedback for the time being
execute if score #cl.pref cl.track.commandFeedback matches 1 run gamerule sendCommandFeedback false

#Enable Class trigger, to allow selecting of class
scoreboard players enable @s cl.Class

#Tellraw Class selection (old)
#tellraw @s ["",{"text":"=====================","color":"dark_aqua"},{"text":"\n\n"},{"text":"Select your class:","color":"green"},{"text":"\n\n"},{"text":"=====================","color":"dark_aqua"},{"text":"\n\n"},{"text":"\u2b25 ","color":"gold"},{"text":"Knight","color":"gold","clickEvent":{"action":"run_command","value":"/trigger cl.Class set 1"},"hoverEvent":{"action":"show_text","contents":"A powerful warrior, focused on protecting his allies and dealing melee damage."}},{"text":"\n"},{"text":"\u2b25 ","color":"gold"},{"text":"Ranger","color":"gold","clickEvent":{"action":"run_command","value":"/trigger cl.Class set 2"},"hoverEvent":{"action":"show_text","contents":"Proficient with bows, and grants bonuses to animals they tame."}},{"text":"\n"},{"text":"\u2b25 ","color":"gold"},{"text":"Mage","color":"gold","clickEvent":{"action":"run_command","value":"/trigger cl.Class set 3"},"hoverEvent":{"action":"show_text","contents":"Controls the elements to deal damage to enemies, and gain buffs."}},{"text":"\n"},{"text":"\u2b25 ","color":"gold"},{"text":"Healer","color":"gold","clickEvent":{"action":"run_command","value":"/trigger cl.Class set 4"},"hoverEvent":{"action":"show_text","contents":"Heals and buffs their allies using holy magic."}},{"text":"\n\n"},{"text":"=====================","color":"dark_aqua"}]

give @s written_book{pages:['["",{"text":"Select Your Class:","bold":true,"color":"dark_green"},{"text":"\\n\\n- ","color":"reset"},{"text":"Knight","color":"dark_green","clickEvent":{"action":"change_page","value":2}},{"text":"\\n- ","color":"reset"},{"text":"Ranger","color":"dark_green","clickEvent":{"action":"change_page","value":4}},{"text":"\\n- ","color":"reset"},{"text":"Mage","color":"dark_green","clickEvent":{"action":"change_page","value":7}},{"text":"\\n- ","color":"reset"},{"text":"Healer","color":"dark_green","clickEvent":{"action":"change_page","value":9}},{"text":"\\n\\nOnce you select, you are unable to change it!","color":"reset"}]','["",{"text":"Knight:","color":"dark_green"},{"text":"\\n\\nThe Knight has powerful attacks and a natural resistance to damage and knockback.\\n\\nThey are able to do more damage with melee weapons and attack faster.\\n \\u0020 \\u0020 \\u0020 \\u0020","color":"reset"},{"text":"continued >>>>>","italic":true,"color":"gray","clickEvent":{"action":"change_page","value":3}}]','["",{"text":"Holding up a shield also protects allies within 10 blocks, by giving them resistance against damage.\\n\\nThey are also stronger around Illagers. Gaining strength and speed around them.\\n"},{"text":"[ Choose Knight ]","bold":true,"italic":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger cl.Class set 1"}},{"text":"\\n","color":"reset","italic":true},{"text":"[ Back to start ]","italic":true,"color":"gray","clickEvent":{"action":"change_page","value":1}}]','["",{"text":"Ranger:","color":"dark_green"},{"text":"\\n\\nThe Ranger has an particular affinity with nature.\\n\\nAny wolf they tame or breed gains higher attack, health, and gains natural armor.\\n \\u0020 \\u0020 \\u0020 ","color":"reset"},{"text":" ","italic":true,"color":"gray"},{"text":"continued >>>>>","italic":true,"color":"gray","clickEvent":{"action":"change_page","value":5}}]','["",{"text":"Any beneficial potion a Ranger drinks, confers the benefit to the wolves they have tamed/bred.\\n\\nThey also passively heal nearby friendly animals every 10 seconds.\\n \\u0020 \\u0020 \\u0020"},{"text":" ","italic":true,"color":"gray"},{"text":"continued >>>>>","italic":true,"color":"gray","clickEvent":{"action":"change_page","value":6}},{"text":"\\n ","color":"reset"}]','["",{"text":"Rangers can also salvage arrows in the ground when crouching, and can pierce multiple enemies with arrows.\\n\\n"},{"text":"[ Choose Ranger ]","bold":true,"italic":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger cl.Class set 2"}},{"text":"\\n","color":"reset"},{"text":"[ Back to start ]","italic":true,"color":"gray","clickEvent":{"action":"change_page","value":1}}]','["",{"text":"Mage:","color":"dark_green"},{"text":"\\n\\nThe mage commands the elements of earth, air, fire, and water.\\n\\nUsing their magic, they are able to will the elements to do their bidding.\\n\\n \\u0020 \\u0020 \\u0020 \\u0020","color":"reset"},{"text":"continued >>>>>","italic":true,"color":"gray","clickEvent":{"action":"change_page","value":8}}]','["",{"text":"They have a lower attack speed and attack damage.\\n\\nDue to needing freedom of movement to cast spells, they are unable to wear armor (though they have spells to replicate it!).\\n"},{"text":"[ Choose Mage ]","bold":true,"italic":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger cl.Class set 3"}},{"text":"\\n","color":"reset"},{"text":"[ Back to start ]","italic":true,"color":"gray","clickEvent":{"action":"change_page","value":1}}]','["",{"text":"Healer:","color":"dark_green"},{"text":"\\n\\nA potent user in healing magic. The Healer is able to heal allies, deal heavy damage to the undead, and grant wide area buffs to surrounding players.\\n\\n","color":"reset"},{"text":"[ Choose Healer ]","bold":true,"italic":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger cl.Class set 4"}},{"text":"\\n","color":"reset"},{"text":"[ Back to start ]","italic":true,"color":"gray","clickEvent":{"action":"change_page","value":1}}]'],title:"Class Pick",author:ClassesMC,generation:3,display:{Lore:["Choose your class wisely..."]},cl.item.classselect:1b}

#Tag player to avoid spam
tag @s add cl.o.Joined
